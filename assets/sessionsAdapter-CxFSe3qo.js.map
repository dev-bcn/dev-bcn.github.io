{"version":3,"file":"sessionsAdapter-CxFSe3qo.js","sources":["../../src/types/sessions.ts","../../src/services/sessionsAdapter.ts"],"sourcesContent":["import type { ISpeaker } from \"./speakers\";\n\nexport interface SessionSpeaker {\n  readonly id: string;\n  readonly name: string;\n}\n\nexport enum CategoryItemEnum {\n  Language = \"Language\",\n  Track = \"Track\",\n  Format = \"Session format\",\n  Level = \"Level\",\n}\n\ninterface CategoryItem {\n  readonly id: number;\n  readonly name: string;\n}\n\nexport interface SessionCategory {\n  readonly id: number;\n  readonly name: CategoryItemEnum;\n  readonly categoryItems: CategoryItem[];\n}\n\nexport interface Session {\n  readonly room: string;\n  readonly roomId: number;\n  readonly id: number;\n  readonly title: string;\n  readonly description: string;\n  readonly startsAt: string;\n  readonly endsAt: string;\n  readonly slidesURL?: string;\n  readonly speakers: SessionSpeaker[];\n  readonly categories: SessionCategory[];\n  readonly questionAnswers: QuestionAnswers[];\n  readonly recordingUrl?: string;\n  readonly track: string;\n}\n\nexport interface IGroup {\n  readonly groupId: number;\n  readonly groupName: string;\n  readonly sessions: Session[];\n  readonly isDefault: boolean;\n}\n\nexport interface QuestionAnswers {\n  readonly id: number;\n  readonly question: string;\n  readonly questionType: string;\n  readonly answer: string;\n}\n\nexport interface IMeeting {\n  id: number;\n  urlName?: string;\n  title: string;\n  description: string;\n  videoUrl?: string;\n  slidesURL?: string;\n  videoTags?: string[];\n  speakers: SessionSpeaker[];\n  level?: string;\n  type?: string;\n  language?: string;\n  track?: string;\n  startDate: string;\n  endDate: string;\n  startTime: string;\n  endTime: string;\n}\n\nexport interface IMeetingDetailProps {\n  meeting: IMeeting;\n  speakers?: ISpeaker[];\n  openFeedbackId: string;\n  edition?: string;\n  speakerDetailRoute?: string;\n  talksRoute?: string;\n}\n\nexport interface TrackInfo {\n  name: string;\n  code?: string;\n}\n\nexport interface TopRatedTalk {\n  id: string;\n  speaker: string;\n  talk: string;\n  link: string;\n}\n\nexport interface TopTalkWithSpeaker extends TopRatedTalk {\n  speakerImage: string;\n  award: string;\n}\n\nexport type MyType = {\n  urlName?: string;\n  videoUrl?: string;\n  level?: string;\n  videoTags?: string[];\n  speakers?: ISpeaker[];\n  description: string;\n  language?: string;\n  title: string;\n  type?: string;\n  track?: string;\n};\n","import { CategoryItemEnum } from \"@/types/sessions\";\n\nimport type {\n  IMeeting,\n  QuestionAnswers,\n  Session,\n  SessionCategory,\n} from \"@/types/sessions\";\n\nexport const extractSessionTags = (\n  questionAnswers: QuestionAnswers[],\n): string[] | undefined => {\n  const tags = questionAnswers\n    .filter((question) => question.question === \"Tags/Topics\")\n    .map((question) => question.answer)\n    .at(0);\n  return tags?.split(\",\");\n};\nexport const extractSessionSlides = (\n  questionAnswers: QuestionAnswers[],\n): string => {\n  const slides = questionAnswers\n    .filter((question) => question.question === \"Slides\")\n    .map((question) => question.answer)\n    .at(0);\n  return slides ?? \"\";\n};\nconst sessionEmojis: Record<string, string> = {\n  Session: \"üó£\",\n  Workshop: \"üíª\",\n  \"Lightning talk\": \"‚ö°Ô∏è\",\n};\nconst sessionLevel: Record<string, string> = {\n  \"Introductory and overview\": \"‚≠ê\",\n  Intermediate: \"‚≠ê‚≠ê\",\n  Advanced: \"‚≠ê‚≠ê‚≠ê\",\n};\nexport const extractSessionCategoryInfo = (\n  categories: SessionCategory[],\n  item: CategoryItemEnum = CategoryItemEnum.Level,\n): string | undefined => {\n  const info = categories.find((category) => category.name === item)\n    ?.categoryItems?.[0]?.name;\n\n  if (!info) {\n    return undefined;\n  }\n\n  const emojis =\n    item === CategoryItemEnum.Format ? sessionEmojis : sessionLevel;\n\n  for (const [key, value] of Object.entries(emojis)) {\n    if (info.includes(key)) {\n      return `${info} ${value}`;\n    }\n  }\n\n  if (item === CategoryItemEnum.Language && info === \"Spanish\") {\n    return `${info} üá™üá∏`;\n  }\n  if (item === CategoryItemEnum.Language && info === \"English\") {\n    return `${info} üá¨üáß`;\n  }\n\n  return `${info}`;\n};\nexport const sessionAdapter = (\n  session: Session | undefined,\n): IMeeting | undefined => {\n  if (session === undefined) {\n    return undefined;\n  }\n  return {\n    description: session.description,\n    endDate: session.endsAt !== null ? session.endsAt.split(\"T\")[0] : \"\",\n    endTime: session.endsAt !== null ? session.endsAt.split(\"T\")[1] : \"\",\n    id: session.id,\n    language: extractSessionCategoryInfo(\n      session.categories,\n      CategoryItemEnum.Language,\n    ),\n    level: extractSessionCategoryInfo(session?.categories),\n    slidesURL: extractSessionSlides(session.questionAnswers),\n    speakers: session.speakers,\n    startDate: session.startsAt !== null ? session.startsAt.split(\"T\")[0] : \"\",\n    startTime: session.startsAt !== null ? session.startsAt.split(\"T\")[1] : \"\",\n    title: session.title,\n    track: extractSessionCategoryInfo(\n      session.categories,\n      CategoryItemEnum.Track,\n    ),\n    type: extractSessionCategoryInfo(\n      session.categories,\n      CategoryItemEnum.Format,\n    ),\n    videoTags: extractSessionTags(session.questionAnswers),\n    videoUrl: session.recordingUrl,\n  };\n};\n"],"names":["CategoryItemEnum","extractSessionTags","questionAnswers","question","extractSessionSlides","sessionEmojis","sessionLevel","extractSessionCategoryInfo","categories","item","info","category","emojis","key","value","sessionAdapter","session"],"mappings":"uiBAOO,IAAKA,GAAAA,IACVA,EAAA,SAAW,WACXA,EAAA,MAAQ,QACRA,EAAA,OAAS,iBACTA,EAAA,MAAQ,QAJEA,IAAAA,GAAA,CAAA,CAAA,ECEL,MAAMC,EACXC,GAEaA,EACV,OAAQC,GAAaA,EAAS,WAAa,aAAa,EACxD,IAAKA,GAAaA,EAAS,MAAM,EACjC,GAAG,CAAC,GACM,MAAM,GAAG,EAEXC,EACXF,GAEeA,EACZ,OAAQC,GAAaA,EAAS,WAAa,QAAQ,EACnD,IAAKA,GAAaA,EAAS,MAAM,EACjC,GAAG,CAAC,GACU,GAEbE,EAAwC,CAC5C,QAAS,KACT,SAAU,KACV,iBAAkB,IACpB,EACMC,EAAuC,CAC3C,4BAA6B,IAC7B,aAAc,KACd,SAAU,KACZ,EACaC,EAA6B,CACxCC,EACAC,EAAyBT,EAAiB,QACnB,CACvB,MAAMU,EAAOF,EAAW,KAAMG,GAAaA,EAAS,OAASF,CAAI,GAC7D,gBAAgB,CAAC,GAAG,KAExB,GAAI,CAACC,EACH,OAGF,MAAME,EACJH,IAAST,EAAiB,OAASK,EAAgBC,EAErD,SAAW,CAACO,EAAKC,CAAK,IAAK,OAAO,QAAQF,CAAM,EAC9C,GAAIF,EAAK,SAASG,CAAG,EACnB,MAAO,GAAGH,CAAI,IAAII,CAAK,GAI3B,OAAIL,IAAST,EAAiB,UAAYU,IAAS,UAC1C,GAAGA,CAAI,QAEZD,IAAST,EAAiB,UAAYU,IAAS,UAC1C,GAAGA,CAAI,QAGT,GAAGA,CAAI,EAChB,EACaK,EACXC,GACyB,CACzB,GAAIA,IAAY,OAGhB,MAAO,CACL,YAAaA,EAAQ,YACrB,QAASA,EAAQ,SAAW,KAAOA,EAAQ,OAAO,MAAM,GAAG,EAAE,CAAC,EAAI,GAClE,QAASA,EAAQ,SAAW,KAAOA,EAAQ,OAAO,MAAM,GAAG,EAAE,CAAC,EAAI,GAClE,GAAIA,EAAQ,GACZ,SAAUT,EACRS,EAAQ,WACRhB,EAAiB,QAAA,EAEnB,MAAOO,EAA2BS,GAAS,UAAU,EACrD,UAAWZ,EAAqBY,EAAQ,eAAe,EACvD,SAAUA,EAAQ,SAClB,UAAWA,EAAQ,WAAa,KAAOA,EAAQ,SAAS,MAAM,GAAG,EAAE,CAAC,EAAI,GACxE,UAAWA,EAAQ,WAAa,KAAOA,EAAQ,SAAS,MAAM,GAAG,EAAE,CAAC,EAAI,GACxE,MAAOA,EAAQ,MACf,MAAOT,EACLS,EAAQ,WACRhB,EAAiB,KAAA,EAEnB,KAAMO,EACJS,EAAQ,WACRhB,EAAiB,MAAA,EAEnB,UAAWC,EAAmBe,EAAQ,eAAe,EACrD,SAAUA,EAAQ,YAAA,CAEtB"}