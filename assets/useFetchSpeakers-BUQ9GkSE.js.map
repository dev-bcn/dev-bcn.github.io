{"version":3,"file":"useFetchSpeakers-BUQ9GkSE.js","sources":["../../src/services/speakerAdapter.ts","../../src/hooks/useFetchSpeakers.ts"],"sourcesContent":["import type { IResponse, ISpeaker } from \"../types/speakers\";\n\nexport const speakerAdapter = (response: IResponse[]): ISpeaker[] =>\n  response.map((response) => ({\n    id: response.id,\n    fullName: response.fullName,\n    speakerImage: response.profilePicture,\n    tagLine: response.tagLine,\n    bio: response.bio,\n    sessions: response.sessions,\n    twitterUrl: response.links.filter((link) => link.linkType === \"Twitter\")[0],\n    linkedInUrl: response.links.filter(\n      (link) => link.linkType === \"LinkedIn\",\n    )[0],\n  }));\n","import * as Sentry from \"@sentry/react\";\nimport axios from \"axios\";\nimport { useQuery } from \"react-query\";\n\nimport { speakerAdapter } from \"@services/speakerAdapter\";\n\nimport type { IResponse, ISpeaker } from \"@/types/speakers\";\nimport type { UseQueryResult } from \"react-query\";\n\nconst URLS = {\n  default: \"https://sessionize.com/api/v2/xhudniix/view/Speakers\",\n  2023: \"https://sessionize.com/api/v2/ttsitynd/view/Speakers\",\n  2024: \"https://sessionize.com/api/v2/teq4asez/view/Speakers\",\n  2025: \"https://sessionize.com/api/v2/xhudniix/view/Speakers\",\n};\n\nexport const useFetchSpeakers = (\n  yearOrUrl?: string,\n  id?: string,\n): UseQueryResult<ISpeaker[]> => {\n  let url = URLS.default;\n  let speakerId = id;\n\n  if (yearOrUrl) {\n    if (yearOrUrl.startsWith(\"http\")) {\n      url = yearOrUrl;\n    } else if (yearOrUrl in URLS) {\n      url = URLS[yearOrUrl as keyof typeof URLS];\n    } else {\n      speakerId = yearOrUrl;\n    }\n  }\n\n  return useQuery(\n    [\"api-speakers\", speakerId],\n    async () => {\n      try {\n        const serverResponse = await axios.get(url, {\n          headers: { Accept: \"application/json; charset=utf-8\" },\n        });\n        let returnData: IResponse[];\n        if (speakerId !== undefined) {\n          returnData = serverResponse.data.filter(\n            (speaker: { id: string }) => speaker.id === speakerId,\n          );\n        } else {\n          returnData = serverResponse.data;\n        }\n\n        return speakerAdapter(returnData);\n      } catch (e) {\n        Sentry.captureException(e);\n        return [];\n      }\n    },\n    {\n      cacheTime: 1800000,\n      staleTime: 1800000,\n    },\n  );\n};\n"],"names":["speakerAdapter","response","link","URLS","useFetchSpeakers","yearOrUrl","id","url","speakerId","useQuery","serverResponse","axios","returnData","speaker","e","Sentry.captureException"],"mappings":"8nBAEO,MAAMA,EAAkBC,GAC7BA,EAAS,IAAKA,IAAc,CAC1B,GAAIA,EAAS,GACb,SAAUA,EAAS,SACnB,aAAcA,EAAS,eACvB,QAASA,EAAS,QAClB,IAAKA,EAAS,IACd,SAAUA,EAAS,SACnB,WAAYA,EAAS,MAAM,OAAQC,GAASA,EAAK,WAAa,SAAS,EAAE,CAAC,EAC1E,YAAaD,EAAS,MAAM,OACzBC,GAASA,EAAK,WAAa,UAAA,EAC5B,CAAC,CACL,EAAE,ECLEC,EAAO,CACX,QAAS,uDACT,KAAM,uDACN,KAAM,uDACN,KAAM,sDACR,EAEaC,EAAmB,CAC9BC,EACAC,IAC+B,CAC/B,IAAIC,EAAMJ,EAAK,QACXK,EAAYF,EAEhB,OAAID,IACEA,EAAU,WAAW,MAAM,EAC7BE,EAAMF,EACGA,KAAaF,EACtBI,EAAMJ,EAAKE,CAA8B,EAEzCG,EAAYH,GAITI,EACL,CAAC,eAAgBD,CAAS,EAC1B,SAAY,CACV,GAAI,CACF,MAAME,EAAiB,MAAMC,EAAM,IAAIJ,EAAK,CAC1C,QAAS,CAAE,OAAQ,iCAAA,CAAkC,CACtD,EACD,IAAIK,EACJ,OAAIJ,IAAc,OAChBI,EAAaF,EAAe,KAAK,OAC9BG,GAA4BA,EAAQ,KAAOL,CAAA,EAG9CI,EAAaF,EAAe,KAGvBV,EAAeY,CAAU,CAClC,OAASE,EAAG,CACVC,OAAAA,EAAwBD,CAAC,EAClB,CAAA,CACT,CACF,EACA,CACE,UAAW,KACX,UAAW,IAAA,CACb,CAEJ"}